var HpvMenu=HpvMenu||{};HpvMenu.sidebar={fav:JSON.parse(localStorage.getItem("favoritos"))||[],registry:{},registerEntry:function(e){HpvMenu.sidebar.registry[e.id]=e},handleStarClick:function(e,t,r){if(HpvMenu.sidebar.fav.find(e=>e.title==r.title)){let t=HpvMenu.sidebar.fav.findIndex(e=>e.title==r.title);HpvMenu.sidebar.fav.splice(t,1),localStorage.setItem("favoritos",JSON.stringify(HpvMenu.sidebar.fav)),e.target.parentElement.classList.remove("nav-star-active")}else{let t=r.path?JSON.parse(JSON.stringify(r.path)):[];r.savedPath=t,HpvMenu.sidebar.fav.push(r),localStorage.setItem("favoritos",JSON.stringify(HpvMenu.sidebar.fav)),e.target.parentElement.classList.add("nav-star-active")}},_generateId:function(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t},_sort:function(e,t){e.hasOwnProperty("sortItens")&&1==e.sortItens&&(e.hasOwnProperty("sortFn")?t=e.sortFn(e,t):t.sort(function(e,t){return e.hasOwnProperty("order")&&t.hasOwnProperty("order")?e.order-t.order:e.hasOwnProperty("order")&&!t.hasOwnProperty("order")?-1:!e.hasOwnProperty("order")&&t.hasOwnProperty("order")?1:e.title.toLowerCase()<t.title.toLowerCase()?-1:e.title.toLowerCase()>t.title.toLowerCase()?1:0}))},_setTitle:function(e){document.getElementById("sidebarTitle").innerHTML=e.title||"Title"},_removeAllItens:function(e){for(;e.firstChild;)e.firstChild.remove()},_createDivide:function(e,t,r,n){let a=document.createElement("li");a.classList.add("sidebar-divide"),a.innerHTML=r.title;let i=JSON.parse(JSON.stringify(n));if(i.push(r.title),r.path=i,r.id=r.id||HpvMenu.sidebar._generateId(10),a.id=r.id,e.appendChild(a),r.childs=r.childs||[],r.childs.length>0){HpvMenu.sidebar._sort(t,r.childs);let e=document.createElement("ul");e.classList.add("sidebar-divide-child"),a.parentElement.appendChild(e);for(const n of r.childs)n.path=n.path||[],"divide"==n.type?HpvMenu.sidebar._createDivide(e,t,n,i):"dropdown"==n.type?HpvMenu.sidebar._createDropDown(e,t,n,i):t.hasOwnProperty("itemRenderer")?HpvMenu.sidebar._createItemUsingItemRenderer(e,t,n,i):HpvMenu.sidebar._createItem(e,t,n,i)}return a},_createItemUsingItemRenderer:function(e,t,r,n,a=!0){let i=t.itemRenderer(e,t,r,n);return n.push(r.title),r.path=n,r.id=r.id||HpvMenu.sidebar._generateId(10),i.id=r.id,HpvMenu.sidebar._registerTags(r),t.hasOwnProperty("onItemClick")&&i.addEventListener("click",function(e){t.onItemClick(e,t,r)}),a&&e.appendChild(i),i},_createItem:function(e,t,r,n,a=!0){let i=document.createElement("li"),s=document.createElement("a");r.path=n,r.id=r.id||HpvMenu.sidebar._generateId(10),i.id=r.id,HpvMenu.sidebar._registerTags(r),r.href?s.href=r.href:(s.href="#",s.classList.add("sidebar-anchor-no-href")),r.innerHtml?s.innerHTML=r.innerHtml+r.title:s.innerHTML='<i class="fa-solid fa-circle fa-transparent"></i>'+r.title;let d=document.createElement("span");d.classList.add("nav-right"),d.classList.add("nav-star"),HpvMenu.sidebar.fav.find(e=>e.title==r.title)&&d.classList.add("nav-star-active");let l=document.createElement("i");return l.classList.add("fa-solid"),l.classList.add("fa-star"),d.appendChild(l),s.innerHTML+=d.outerHTML,i.appendChild(s),a&&e.appendChild(i),t.hasOwnProperty("onItemClick")&&s.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),e.target.parentElement.classList.contains("nav-star")||e.target.classList.contains("nav-star")?HpvMenu.sidebar.handleStarClick(e,t,r):t.onItemClick(e,t,r)}),i},_createDropDown:function(e,t,r,n){let a=document.createElement("li");a.classList.add("sidebar-dropdown"),n.push(r.title),r.path=n,r.id=r.id||HpvMenu.sidebar._generateId(10),a.id=r.id;let i=document.createElement("a");if(r.innerHtml?i.innerHTML=r.innerHtml+r.title:i.innerHTML='<i class="fa-solid fa-circle fa-transparent"></i>'+r.title,i.innerHTML+='<span class="nav-right"><i class="arrow arrow-right"></i></span>',a.appendChild(i),e.appendChild(a),r.childs=r.childs||[],r.childs.length>0){HpvMenu.sidebar._sort(t,r.childs);let e=document.createElement("ul");e.classList.add("sidebar-dropdown-child"),a.appendChild(e);for(const a of r.childs)a.path=a.path||[],"divide"==a.type?HpvMenu.sidebar._createDivide(e,t,a,n):"dropdown"==a.type?HpvMenu.sidebar._createDropDown(e,t,a,n):HpvMenu.sidebar._createItem(e,t,a,n)}return i.addEventListener("click",function(e){let t=e.currentTarget.getElementsByClassName("arrow-right")[0];t?(t.classList.remove("arrow-right"),t.classList.add("arrow-down"),e.currentTarget.parentElement.classList.add("sidebar-dropdown-open")):((t=e.currentTarget.getElementsByClassName("arrow-down")[0]).classList.remove("arrow-down"),t.classList.add("arrow-right"),e.currentTarget.parentElement.classList.remove("sidebar-dropdown-open"))}),a},_setStatusText:function(e,t){0==e.childElementCount?document.getElementById("sideBarStatusText").style.display="flex":document.getElementById("sideBarStatusText").style.display="none"},_isRegistered:function(e){return HpvMenu.sidebar.registry.hasOwnProperty(e)},_getEntry:function(e){if(HpvMenu.sidebar._isRegistered(e))return HpvMenu.sidebar.registry[e]},show:function(e){if(HpvMenu.sidebar._isRegistered(e)){let t=document.getElementById("menuItems");t.className="nav menu-"+e;let r=HpvMenu.sidebar.registry[e];HpvMenu.sidebar.tagRegistry=[],document.getElementsByClassName("searchInput")[0].value="",r.hasOwnProperty("loadItens")&&(r.itens=r.loadItens()),HpvMenu.sidebar._removeAllItens(t),HpvMenu.sidebar._setTitle(r),HpvMenu.sidebar._sort(r,r.itens);for(const e of r.itens){let n=[r.title];e.path=n,e.id=e.id||HpvMenu.sidebar._generateId(10),HpvMenu.sidebar._registerTags(e),"divide"==e.type?HpvMenu.sidebar._createDivide(t,r,e,n):"dropdown"==e.type?HpvMenu.sidebar._createDropDown(t,r,e,n):"entry"==e.type&&(r.hasOwnProperty("itemRenderer")?HpvMenu.sidebar._createItemUsingItemRenderer(t,r,e,n):HpvMenu.sidebar._createItem(t,r,e,n,!0))}HpvMenu.sidebar._setStatusText(t,r),document.getElementById("content").classList.add("isOpen")}},close:function(){document.getElementsByClassName("content")[0].classList.remove("isOpen")}};